{"openapi":"3.0.1","info":{"title":"Pizzeria backend application","description":"OpenApi documentation for spring boot application","contact":{"name":"Arkadiusz Kupiec","email":"arkkupi85@gmail.com"}},"servers":[{"url":"http://192.168.1.39:8082"}],"security":[{"BearerAuth":[]}],"paths":{"/api/user/update":{"put":{"tags":["user-controller"],"operationId":"updateUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDetailsRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/UserDetailsDTO"}}}}}}}},"/api/user/image-update":{"put":{"tags":["user-controller"],"operationId":"uploadImage","requestBody":{"content":{"multipart/form-data":{"schema":{"required":["image"],"type":"object","properties":{"image":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK"}}}},"/api/sse/order":{"put":{"tags":["s-se-controller"],"operationId":"updateOrder","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderRequest"}}},"required":true},"responses":{"200":{"description":"OK"}}},"post":{"tags":["s-se-controller"],"operationId":"placeOrder","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderRequest"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/reviews/replace/{id}":{"put":{"tags":["review-controller"],"operationId":"replaceReview","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/ReviewDTO"}}}}}}}},"/api/order/status":{"put":{"tags":["Order"],"summary":"Update order status","operationId":"updateOrderRequest","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderStatusRequest"}}},"required":true},"responses":{"200":{"description":"Order status updated"}}}},"/api/ingredient/{id}":{"put":{"tags":["ingredient-controller"],"operationId":"updateIngredient","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"ingredientModel","in":"query","required":true,"schema":{"$ref":"#/components/schemas/CreateIngredientRequest"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/Ingredient"}}}}}}},"delete":{"tags":["ingredient-controller"],"operationId":"createIngredient_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/user/super-user":{"post":{"tags":["user-controller"],"operationId":"createSuperUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSuperuserRequest"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/user/send-email":{"post":{"tags":["user-controller"],"operationId":"sendEmail","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailRequest"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/user/register":{"post":{"tags":["user-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDetailsRequest"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/user/refreshToken":{"post":{"tags":["user-controller"],"operationId":"refreshToken","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RefreshTokenResponse"}}}}}}},"/api/user/login":{"post":{"tags":["user-controller"],"operationId":"getToken","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthenticationResponse"}}}}}}},"/api/reviews":{"post":{"tags":["review-controller"],"operationId":"createReview","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/ReviewDTO"}}}}}}},"delete":{"tags":["review-controller"],"operationId":"deleteAllReviews","responses":{"200":{"description":"OK"}}}},"/api/pizza":{"get":{"tags":["pizza-controller"],"operationId":"getAllPizzas","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/PizzaDTO"}}}}}}}},"post":{"tags":["pizza-controller"],"operationId":"createPizza","parameters":[{"name":"pizzaModel","in":"query","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"image":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/PizzaDTO"}}}}}}},"delete":{"tags":["pizza-controller"],"operationId":"deleteAllPizzas","responses":{"200":{"description":"OK"}}}},"/api/order":{"get":{"tags":["Order"],"summary":"Get all my orders","operationId":"getMyOrders","responses":{"200":{"description":"Orders fetched","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/OrderDTO"}}}}}}}},"post":{"tags":["Order"],"summary":"Create new order","operationId":"createOrder","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderRequest"}}},"required":true},"responses":{"201":{"description":"Order created","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/OrderDTO"}}}}},"400":{"description":"Request body filled improperly","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiExceptionDetails"}}}}}},"delete":{"tags":["Order"],"summary":"Delete all orders","operationId":"deleteAllOrders","responses":{"204":{"description":"All Orders deleted"}}}},"/api/ingredient":{"get":{"tags":["ingredient-controller"],"operationId":"getAllIngredients","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/Ingredient"}}}}}}}},"post":{"tags":["ingredient-controller"],"operationId":"createIngredient","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateIngredientRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/Ingredient"}}}}}}},"delete":{"tags":["ingredient-controller"],"operationId":"deleteAllIngredients","responses":{"200":{"description":"OK"}}}},"/api/drink":{"get":{"tags":["drink-controller"],"operationId":"getAllDrinks","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/DrinkDTO"}}}}}}}},"post":{"tags":["drink-controller"],"operationId":"createDrink","parameters":[{"name":"drinkModel","in":"query","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"image":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/DrinkDTO"}}}}}}},"delete":{"tags":["drink-controller"],"operationId":"deleteAllDrinks","responses":{"200":{"description":"OK"}}}},"/images/{folderName}/{imageName}":{"get":{"tags":["image-controller"],"operationId":"getImage","parameters":[{"name":"folderName","in":"path","required":true,"schema":{"type":"string"}},{"name":"imageName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string","format":"binary"}}}}}}},"/api/user/orders":{"get":{"tags":["user-controller"],"operationId":"getOrders","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/OrderDTO"}}}}}}}}},"/api/user/details":{"get":{"tags":["user-controller"],"operationId":"getUserDetails","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/UserDetailsDTO"}}}}}}}},"/api/sse/order-picker":{"get":{"tags":["s-se-controller"],"operationId":"orderPickerSubscribe","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SseEmitter"}}}}}}},"/api/sse/order-maker/{id}":{"get":{"tags":["s-se-controller"],"operationId":"orderMakerSubscribe","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SseEmitter"}}}}}}},"/api/pizza/{id}":{"get":{"tags":["pizza-controller"],"operationId":"getPizza","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/PizzaDTO"}}}}}}},"delete":{"tags":["pizza-controller"],"operationId":"deletePizza","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/order/{id}":{"get":{"tags":["Order"],"summary":"Get order of given id","operationId":"getOrder","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Order fetched","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/OrderDTO"}}}}}}},"delete":{"tags":["Order"],"summary":"Delete order of given id","operationId":"deleteOrder","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Order deleted"}}}},"/api/order/user/{userId}":{"get":{"tags":["Order"],"summary":"Get all orders of user with given id","operationId":"getUserOrders","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Orders fetched","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/OrderDTO"}}}}}}}}},"/api/order/unfinished":{"get":{"tags":["Order"],"summary":"Get all unfinished orders for staff frontend application","operationId":"getUnfinishedOrders","responses":{"200":{"description":"Orders fetched","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/OrderDTO"}}}}}}}}},"/api/order/check/{lookupId}":{"get":{"tags":["Order"],"operationId":"getOrderByLookupId","parameters":[{"name":"lookupId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/OrderDTO"}}}}}}}},"/api/order/all":{"get":{"tags":["Order"],"summary":"Get all existing orders","operationId":"getAllOrders","responses":{"200":{"description":"Orders fetched","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/OrderDTO"}}}}}}}}},"/api/menu":{"get":{"tags":["menu-controller"],"operationId":"getMenu","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/drink/{id}":{"get":{"tags":["drink-controller"],"operationId":"getDrink","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/Drink"}}}}}}},"delete":{"tags":["drink-controller"],"operationId":"deleteDrink","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/user":{"delete":{"tags":["user-controller"],"operationId":"deleteUser","responses":{"200":{"description":"OK"}}}},"/api/reviews/{id}":{"delete":{"tags":["review-controller"],"operationId":"deleteReview","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/reviews/pizza/{pizzaId}":{"delete":{"tags":["review-controller"],"operationId":"deletePizzaReviews","parameters":[{"name":"pizzaId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/order/cancel/{id}":{"delete":{"tags":["Order"],"summary":"Cancel order of given id if belongs to requester","operationId":"cancelOrder","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Orders fetched"}}}}},"components":{"schemas":{"UserDetailsRequest":{"type":"object","properties":{"name":{"type":"string"},"surname":{"type":"string"},"email":{"type":"string"},"oldPassword":{"type":"string"},"password":{"type":"string"},"city":{"type":"string"},"cityCode":{"type":"string"},"street":{"type":"string"},"houseNumber":{"type":"string"},"phoneNumber":{"type":"string"},"dateOfBirth":{"type":"string"}}},"OrderDTO":{"type":"object","properties":{"orderId":{"type":"integer","format":"int64"},"lookupId":{"type":"string"},"ordererName":{"type":"string"},"orderedPizzas":{"type":"array","items":{"$ref":"#/components/schemas/OrderedPizzaDto"}},"orderedDrinks":{"type":"array","items":{"$ref":"#/components/schemas/OrderedDrinkDto"}},"deliveryAddress":{"type":"string"},"phone":{"type":"string"},"orderStatus":{"type":"string","enum":["PENDING","IN_PROGRESS","COMPLETED","CANCELLED"]},"orderType":{"type":"string","enum":["DELIVERY","PICKUP"]},"createdAt":{"type":"string","format":"date-time"},"total":{"type":"number","format":"double"}}},"OrderedDrinkDto":{"type":"object","properties":{"imageUrl":{"type":"string"},"name":{"type":"string"},"size":{"type":"string"},"quantity":{"type":"integer","format":"int32"}}},"OrderedPizzaDto":{"type":"object","properties":{"imageUrl":{"type":"string"},"name":{"type":"string"},"size":{"type":"string"},"quantity":{"type":"integer","format":"int32"}}},"UserDetailsDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"surname":{"type":"string"},"email":{"type":"string"},"city":{"type":"string"},"cityCode":{"type":"string"},"street":{"type":"string"},"houseNumber":{"type":"string"},"phoneNumber":{"type":"string"},"imageUrl":{"type":"string"},"dateOfBirth":{"type":"string","format":"date"},"orders":{"type":"array","items":{"$ref":"#/components/schemas/OrderDTO"}},"reviews":{"type":"array","items":{"$ref":"#/components/schemas/UserReviewDTO"}}}},"UserReviewDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"pizzaId":{"type":"integer","format":"int64"},"imageUrl":{"type":"string"},"pizzaName":{"type":"string"},"stars":{"type":"number","format":"double"},"content":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"CreateOrderRequest":{"type":"object","properties":{"ordererName":{"type":"string"},"orderedPizzas":{"type":"array","items":{"$ref":"#/components/schemas/OrderedPizzaModel"}},"orderedDrinks":{"type":"array","items":{"$ref":"#/components/schemas/OrderedDrinkModel"}},"orderType":{"type":"string","enum":["DELIVERY","PICKUP"]},"deliveryAddress":{"type":"string"},"phone":{"type":"string"}}},"OrderedDrinkModel":{"type":"object","properties":{"drinkId":{"type":"integer","format":"int64"},"quantity":{"type":"integer","format":"int32"},"size":{"type":"string","enum":["SMALL_330","MEDIUM_500","BIG_1000"]}}},"OrderedPizzaModel":{"type":"object","properties":{"pizzaId":{"type":"integer","format":"int64"},"size":{"type":"string","enum":["SMALL","MEDIUM","BIG"]},"quantity":{"type":"integer","format":"int32"}}},"ReviewRequest":{"type":"object","properties":{"pizzaId":{"type":"integer","format":"int64"},"stars":{"type":"number","format":"double"},"content":{"type":"string"}}},"ReviewDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userFullName":{"type":"string"},"stars":{"type":"number","format":"double"},"content":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"OrderStatusRequest":{"type":"object","properties":{"orderId":{"type":"integer","format":"int64"},"orderStatus":{"type":"string","enum":["PENDING","IN_PROGRESS","COMPLETED","CANCELLED"]}}},"CreateIngredientRequest":{"type":"object","properties":{"name":{"type":"string"},"price":{"type":"number","format":"double"}}},"Ingredient":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"price":{"type":"number","format":"double"}}},"CreateSuperuserRequest":{"type":"object","properties":{"name":{"type":"string"},"surname":{"type":"string"},"email":{"type":"string"},"oldPassword":{"type":"string"},"password":{"type":"string"}}},"EmailRequest":{"type":"object","properties":{"to":{"type":"string"},"username":{"type":"string"}}},"RefreshTokenRequest":{"type":"object","properties":{"token":{"type":"string"}}},"RefreshTokenResponse":{"type":"object","properties":{"token":{"type":"string"},"refreshToken":{"type":"string"}}},"AuthenticationRequest":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"AuthenticationResponse":{"type":"object","properties":{"token":{"type":"string"},"refreshToken":{"type":"string"},"userDetails":{"$ref":"#/components/schemas/UserDetailsDTO"}}},"PizzaDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"smallSizePrice":{"type":"number","format":"double"},"mediumSizePrice":{"type":"number","format":"double"},"bigSizePrice":{"type":"number","format":"double"},"ingredients":{"type":"array","items":{"type":"string"}},"reviews":{"type":"array","items":{"$ref":"#/components/schemas/ReviewDTO"}},"imageUrl":{"type":"string"}}},"ApiExceptionDetails":{"type":"object","properties":{"message":{"type":"string"},"httpStatus":{"type":"string","enum":["100 CONTINUE","101 SWITCHING_PROTOCOLS","102 PROCESSING","103 EARLY_HINTS","103 CHECKPOINT","200 OK","201 CREATED","202 ACCEPTED","203 NON_AUTHORITATIVE_INFORMATION","204 NO_CONTENT","205 RESET_CONTENT","206 PARTIAL_CONTENT","207 MULTI_STATUS","208 ALREADY_REPORTED","226 IM_USED","300 MULTIPLE_CHOICES","301 MOVED_PERMANENTLY","302 FOUND","302 MOVED_TEMPORARILY","303 SEE_OTHER","304 NOT_MODIFIED","305 USE_PROXY","307 TEMPORARY_REDIRECT","308 PERMANENT_REDIRECT","400 BAD_REQUEST","401 UNAUTHORIZED","402 PAYMENT_REQUIRED","403 FORBIDDEN","404 NOT_FOUND","405 METHOD_NOT_ALLOWED","406 NOT_ACCEPTABLE","407 PROXY_AUTHENTICATION_REQUIRED","408 REQUEST_TIMEOUT","409 CONFLICT","410 GONE","411 LENGTH_REQUIRED","412 PRECONDITION_FAILED","413 PAYLOAD_TOO_LARGE","413 REQUEST_ENTITY_TOO_LARGE","414 URI_TOO_LONG","414 REQUEST_URI_TOO_LONG","415 UNSUPPORTED_MEDIA_TYPE","416 REQUESTED_RANGE_NOT_SATISFIABLE","417 EXPECTATION_FAILED","418 I_AM_A_TEAPOT","419 INSUFFICIENT_SPACE_ON_RESOURCE","420 METHOD_FAILURE","421 DESTINATION_LOCKED","422 UNPROCESSABLE_ENTITY","423 LOCKED","424 FAILED_DEPENDENCY","425 TOO_EARLY","426 UPGRADE_REQUIRED","428 PRECONDITION_REQUIRED","429 TOO_MANY_REQUESTS","431 REQUEST_HEADER_FIELDS_TOO_LARGE","451 UNAVAILABLE_FOR_LEGAL_REASONS","500 INTERNAL_SERVER_ERROR","501 NOT_IMPLEMENTED","502 BAD_GATEWAY","503 SERVICE_UNAVAILABLE","504 GATEWAY_TIMEOUT","505 HTTP_VERSION_NOT_SUPPORTED","506 VARIANT_ALSO_NEGOTIATES","507 INSUFFICIENT_STORAGE","508 LOOP_DETECTED","509 BANDWIDTH_LIMIT_EXCEEDED","510 NOT_EXTENDED","511 NETWORK_AUTHENTICATION_REQUIRED"]},"internalAppCode":{"type":"string","enum":["BAD_ACCESS_TOKEN","ACCESS_TOKEN_EXPIRED","BAD_REFRESH_TOKEN","REFRESH_TOKEN_EXPIRED","NO_USER_PERMS","NO_ADMIN_PERMS","BAD_CREDENTIALS","NO_PERMISSION","USER_NOT_FOUND","RESOURCE_NOT_FOUND","IMPROPER_MODEL","INVALID_EVENT_SUBSCRIPTION"]}}},"DrinkDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"smallSizePrice":{"type":"number","format":"double"},"mediumSizePrice":{"type":"number","format":"double"},"bigSizePrice":{"type":"number","format":"double"},"imageUrl":{"type":"string"}}},"SseEmitter":{"type":"object","properties":{"timeout":{"type":"integer","format":"int64"}}},"Drink":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"smallSizePrice":{"type":"number","format":"double"},"mediumSizePrice":{"type":"number","format":"double"},"bigSizePrice":{"type":"number","format":"double"},"imageUrl":{"type":"string"}}}},"securitySchemes":{"BearerAuth":{"type":"http","in":"header","scheme":"bearer","bearerFormat":"JWT"}}}}